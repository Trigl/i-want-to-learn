> 快速过一遍 [Apache Flink 官方文档](https://flink.apache.org/)，不求甚解，不适合除我之外的人类阅读。

## Apache Flink 是什么？
Apache Flink 是一个分布式处理引擎，会在内存中进行有状态的计算。

> Flink 计算是有状态的。

### 处理有界和无界数据
无界数据也就是流数据，处理无界数据需要指定数据进入的顺序，比如按照事件发生的顺序进入。

- [ ] **TODO**：数据进入的顺序应当是接入源控制的吧，比如 Kafka，这个时候如何控制顺序？

### 安装部署方便
既可以基于常见的资源管理器如 Yarn，Mesos，K8s 部署，也可以本地部署。

### 应用可以随意扩容

### 利用内存计算的性能
任务的状态优先保存在内存中，内存慢了才会放入到磁盘中，保证了低延迟。

通过定期的、异步的 checkpoint 保证 exactly-once 的状态一致性。

### 流式应用的三大要素
分别是流、状态和时间。

**流**

**状态**

应用的状态在 Flink 中是一等公民。

Flink 可以维持 TB 级别大小的应用状态，这是由其异步和增量检查点算法实现的。

- [ ] **TODO**：异步和增量检查点算法如何实现维持 TB 级别大小的状态？

Flink 可以将 state 重分配到其他机器。

**时间**

事件时间模式（基于事件的时间戳） -> 通过 watermark 机制来推断事件，并且可以很好平衡结果的延迟和完整性 -> 迟来的数据如何处理

处理时间模式：严格要求低延迟，可以接受近似结果。

### 分层 API
Flink 提供了多个层级的 API：

![](/resource/api-stack.png)
